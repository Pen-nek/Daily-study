# DB 이론 : 함수, JOIN 등



## 용어 개념
### 동의어
- 릴레이션=테이블
- 행=로우=튜플=레코드
- 열=컬럼=속성=애트리뷰트
- 차수=디그리
- 질의문=쿼리

### 용어 개념
- 모델링 : 데이터를 구조화하는 것. (ex. 테이블 만들기)
- NULL값 : 0이나 빈 칸 의미 X. 데이터 없음.
- 스키마 : 테이블의 틀
- 인스턴스 : 테이블의 실제 데이터
- Degree(디그리) : 테이블의 열 갯수
- Cardinality(카디널러티) : 테이블의 행(레코드) 갯수

### 명령어
- JOIN : 두 개 이상의 테이블에서 값을 가져오는 것
- DISTINCT : 중복 행 제거
- ON : JOIN과 세트로 사용함. "매칭되는 정보(다른 테이블의 같은 값)끼리 붙여서 표시하라!"
***


&nbsp;

### 0. 주석처리 방법

    -- 한 줄 주석처리 방법
    
    /*
    여러줄을
    주석처리
    하는 방법
    */

&nbsp;

### 1. 데이터베이스에 사용하는 명령어
- 데이터 질의어 : SELECT
- 데이터 정의어 : 데이터 변환. CREATE, DROP, ALTER
- 데이터 조작어 : 데이터 입력, 삭제, 수정. INSERT, DELETE, UPDATE
- 데이터 제어어 : 데이터베이스에 접근, 권한 부여 및 회수. GRANT, REVOKE
- 트랜젝션 제어어 : 결과를 작업단위별로 제어. COMMIT, ROLLBACK, SAVEPOINT

&nbsp;

### 2. SELECT 구문
> SQL 기본 구문으로 데이터를 조회함

    -- SELECT 구문
    SELECT *
    FROM employees;


    -- employees 테이블로부터 아이디, 이름, 성을 조회하는 질의문(query)
    SELECT employee_id, first_name, last_name
    FROM employees;
    
&nbsp;

### 3. WHERE
> 속성에서 특정한 값을 뽑아낼 때 조건을 걺 

    -- 부서ID가 90인 직원 호출
    SELECT employee_id, last_name, department_id
    FROM employees
    WHERE department_id = 90;

    -- 성이 King인 직원 호출
    SELECT employee_id, first_name, last_name, job_id
    FROM employees
    WHERE last_name LIKE 'King';
    
&nbsp;
    
### 4. GROUP BY 구문
> 데이터를 정렬함

    -- 급여순(오름차순)으로 직원의 이름과 급여를 정렬
    SELECT last_name AS 이름, salary
    FROM employees
    ORDER BY salary;


    -- 급여순(내림차순)으로 직원의 이름과 급여를 정렬
      -- AS 생략가능
    SELECT last_name 이름, salary
    FROM employees
    ORDER BY salary DESC;


    -- 별칭순으로 직원의 이름과 급여를 정렬
    SELECT last_name 이름, salary
    FROM employees
    ORDER BY "이름";


    -- 여러 속성을 이용한 정렬
      -- 부서ID 순으로 정렬, 부서 ID가 같으면 급여순 정렬, 급여까지 같으면 이름순 정렬하라
    SELECT employee_id, last_name, department_id, salary
    FROM employees
    ORDER BY department_id, salary DESC, last_name;
    
> HAVING절
> - 정렬한 데이터 중에 일부만 뽑아낼 수 있음
> - 반드시 GROUP BY 절과 같이 사용
> - 검색조건에는 SUM, AVG, MAX, MIN, COUNT와 같은 집계함수 사용

    -- 가격이 8천원 이상인 도서구매고객에 대해 고객별 주문도서의 총 수량 구하기 (단, 2권 이상 구매 고객만)
    SELECT custid, COUNT(*) AS 도서수량
    FROM Orders
    WHERE saleprice >=8000
    GROUP BY custid
    HAVING COUNT(*)>=2;
    
&nbsp;

### 5. 산술연산
> 산술연산자를 사용해 계산할 수 있음

    -- 연봉 100달러 인상할 경우의 예상연봉
    SELECT last_name, 12*salary+100
    FROM employees;

    -- 연산 우선순위를 다르게 함
    SELECT last_name, 12*(salary+100)
    FROM employees;

> 연산하는 값 중 하나라도 NULL값을 가지면 연산 결과는 무조건 NULL

    SELECT last_name, 12 * salary * commission_pct
    FROM employees;
    
### 6. 비교연산자
> AND, BETWEEN, OR, IN, IS NULL
    
    -- 산술기호 : 급여가 2500 이상인 직원 호출
    SELECT employee_id, last_name, salary
    FROM employees
    WHERE salary >= 2500;

> AND

    -- AND : 급여가 2500~3000인 직원 호출(1)
    SELECT employee_id, last_name, salary
    FROM employees
    WHERE salary >= 2500 AND salary <=3000;
    
> BETWEEN

    -- BETWEEN : 급여가 2500~3000인 직원 호출(2)
         -- 예제2보다 효율적!
    SELECT employee_id, last_name, salary
    FROM employees
    WHERE salary BETWEEN 2500 AND 3000;
    
> OR

    -- OR : 급여가 2400 또는 2500 또는 3000인 직원 호출(1)
    SELECT employee_id, last_name, salary
    FROM employees
    WHERE salary=2400 OR salary=2500 OR salary=3000;
    
> IN

    -- IN : 급여가 2400 또는 2500 또는 3000인 직원 호출(2)
         -- 예제4보다 효율적!
    SELECT employee_id, last_name, salary
    FROM employees
    WHERE salary IN (2400,2500,3000);
    
> IS NULL

    -- IS NULL : 값이 NULL 인 칸만 뽑아냄
    SELECT employee_id, last_name, commission_pct
    FROM employees
    WHERE commission_pct IS NULL;

&nbsp;

### 7. 연결연산자 ||
> 여러 컬럼들의 데이터를 결합해 새로운 컬럼(AS 뒤에 이름을 적어야 함)에 표시

    -- 이름과 성을 함께 표시 : 이름 컬럼과 성 컬럼을 결합
    SELECT last_name ||' '|| first_name AS "Name"
    FROM employees;

    -- 직원이름과 부서가 들어간 문장 출력 : 이름 컬럼과 부서 컬럼을 텍스트와 결합
    SELECT last_name ||' 은(는) 부서 '|| department_id || '에서 근무합니다.' AS "근무부서확인"
    FROM employees;

&nbsp;

### 8. DISTINCT
> 중복 행 제거 

    SELECT DISTINCT department_id
    FROM employees;

    

   


### 4. 함수
- 작동원리는 알 수 없어도(blackbox), 일정한 값을 넣었을 때 원하는 출력값을 얻을 수 있는 것


&nbsp;

> #### Tip
> - 오라클 DB 디벨로퍼의 교육용 계정 : scott, hr <br>
> (scott계정은 EX버전에는 미포함)


## 주요 사이트
- 위키독스(https://wikidocs.net/) : 프로그래밍 공부용 책을 볼 수 있음!
- 공공데이터포털(https://www.data.go.kr/) : 정부에서 공공정보 공유. 어플 제작 등에 데이터 활용 가능 (ex. 부동산 실거래가 확인 어플, 미세먼지 정보 확인 어플)
- K-ICT 빅데이터센터(https://kbig.kr/) : 빅데이터 관련 정보
- 데이터 전문가 지식포털(http://www.dbguide.net/index.db)
